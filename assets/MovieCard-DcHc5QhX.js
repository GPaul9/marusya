import{b as p,d as g,j as s,m as h,r as x,L as k}from"./index-qAo7w62x.js";import{M as m}from"./MessageBlock-B1uGYgUw.js";const $="_list_l8zhh_1",b="_list__item_l8zhh_37",r={list:$,"list_mobile-grid":"_list_mobile-grid_l8zhh_18","list_mobile-scroll":"_list_mobile-scroll_l8zhh_29",list__item:b,"skeleton-mobile-scroll":"_skeleton-mobile-scroll_l8zhh_42"},u=({mobileLayout:l})=>{const e=p({maxWidth:g.md});return s.jsx("div",{className:`${r.list} ${l==="grid"?r["list_mobile-grid"]:r["list_mobile-scroll"]}`,children:Array.from({length:e?4:10},(c,o)=>s.jsx(h,{height:304,containerClassName:l==="scroll"&&e?r["skeleton-mobile-scroll"]:""},o))})},E=({dataQuery:l,mobileLayout:e,children:c,className:o})=>{const{data:_,isLoading:i,isError:a,refetch:d}=l;return i?s.jsx(u,{mobileLayout:e}):a?s.jsx(m,{message:"Не удалось получить список :(",onRefetch:d}):!_||_.length===0?s.jsx(m,{message:"Список пуст"}):s.jsx("ul",{className:`${r.list} ${e==="grid"?r["list_mobile-grid"]:r["list_mobile-scroll"]} ${o}`,children:_.map((j,n)=>s.jsx("li",{className:r.list__item,children:c(j,n)},n))})},N="_card_1j87r_1",f="_card_loading_1j87r_8",y="_card__link_1j87r_11",z="_card__poster_1j87r_33",L="_card__poster_empty_1j87r_42",M="_card__skeleton_1j87r_49",t={card:N,card_loading:f,card__link:y,card__poster:z,card__poster_empty:L,card__skeleton:M},S=({movieData:l,className:e,children:c})=>{const{id:o,title:_,posterUrl:i}=l,[a,d]=x.useState(!i);return s.jsxs("article",{className:`${t.card} ${a?"":t.card_loading} ${e??""}`,children:[i&&!a&&s.jsx("div",{className:t.card__skeleton,children:s.jsx(h,{width:"100%",height:"100%"})}),s.jsx(k,{to:`/${o}`,className:t.card__link,children:i?s.jsx("img",{className:t.card__poster,loading:"lazy",src:`${i}`,alt:_,onLoad:()=>d(!0),onError:()=>d(!0)}):s.jsx("div",{className:`${t.card__poster} ${t.card__poster_empty}`,children:_})}),a&&c]})};export{E as C,S as M};
